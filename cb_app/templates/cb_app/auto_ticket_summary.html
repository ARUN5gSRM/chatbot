{% extends "cb_app/base.html" %}
{% block title %}Ticket Generated{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="card shadow-sm p-4">
    <h4 class="text-success"><i class="bi bi-check-circle-fill"></i> Ticket Generated</h4>
    <p class="mb-1"><strong>Ticket ID:</strong> {{ ticket.ticket_id }}</p>
    <p class="mb-1"><strong>Created:</strong> {{ ticket.timestamp|date:"M d, Y H:i" }}</p>
    <p class="mb-1"><strong>User:</strong> {{ ticket.user_name }}</p>
    <p class="mb-1"><strong>Priority:</strong> <span class="badge bg-warning text-dark">{{ ticket.priority }}</span></p>

    <hr>
    <h6>Original Query</h6>
    <pre class="bg-light p-3 rounded">{{ ticket.query_text }}</pre>

    <h6 class="mt-3">Bot Responses</h6>
    <ul class="list-group">
      {% for line in ticket.last_bot_responses.responses %}
        <li class="list-group-item">{{ line }}</li>
      {% endfor %}
    </ul>

    <div class="mt-3 text-end">
      <a href="{% url 'cb_app:index' %}" class="btn btn-outline-primary">Back to Home</a>
    </div>
  </div>
</div>
{% endblock %}
